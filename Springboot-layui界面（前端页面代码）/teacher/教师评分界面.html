<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Demo</title>
  <!-- 请勿在项目正式环境中引用该 layui.css 地址 -->
  <link href="../layui/css/layui.css" rel="stylesheet">
</head>
<body>
<form class="layui-form" id="updateform" lay-filter="demo-val-filter">
    <div class="layui-form-item" style="margin-top: 30px; margin-bottom: 0px;">
        <div class="layui-inline">
          <label class="layui-form-label">作业标题</label>
          <div class="layui-input-inline layui-input-wrap">
            <input type="tel" id="title" name="title"  class="layui-input demo-phone">
          </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">作业要求</label>
            <div class="layui-input-inline layui-input-wrap">
              <input type="tel" id="require" name="requre"  class="layui-input demo-phone">
            </div>
          </div>
    </div>
  <div class="layui-form-item" style="margin-top: 30px; margin-bottom: 0px;">
    <div class="layui-inline">
      <label class="layui-form-label">作业内容</label>
      <div class="layui-input-inline layui-input-wrap">
        <input type="tel" id="content" name="content"  class="layui-input demo-phone" >
      </div>
    </div>
    <div class="layui-inline">
        <label class="layui-form-label">分数</label>
        <div class="layui-input-inline layui-input-wrap">
          <input type="tel" id="score" name="score"  class="layui-input demo-phone">
        </div>
      </div>
    </div>
    <div class="layui-inline">
        <label class="layui-form-label">对作业完成度进行评估</label>
        <div class="layui-input-block">
        <textarea name="comment" placeholder="对作业完成度进行评估" class="layui-textarea"></textarea>
        </div>
    </div>
  <!-- 隐藏域 -->
   <input type="hidden" id="student" name="student">
  <div class="layui-form-item" style="margin-top: 45px;">
    <div class="layui-input-block">
      <button type="button" lay-on="submit" class="layui-btn">确定</button>
    </div>
  </div>
</form>
  
<!-- 请勿在项目正式环境中引用该 layui.js 地址 -->
<script src="../layui/layui.js"></script> 
<script>
layui.use(function(){
  var $ = layui.$;
  var form = layui.form;
  var util = layui.util;

  util.on('lay-on',{
    submit:function(){
      let data = form.val("demo-val-filter")
      console.log(data);
      $.ajax({
        url: 'http://localhost:8080/comment/addComment',
        type: 'post',
        contentType: 'application/json',
        data: JSON.stringify(data),
        success: function(res){
            if(res){
              layer.msg("评分成功");
            }else{
              layer.msg("评分出现错误，请检查");
            }
        }
     })
    }
 })


  // 日期时间选择器 - 日期和时间选择器同时显示（全面板）
  var laydate = layui.laydate;
        laydate.render({
            elem: '#ID-laydate-type-datetime-1',
            type: 'datetime',
            fullPanel: true // 2.8+
        });
        laydate.render({
            elem: '#ID-laydate-type-datetime-2',
            type: 'datetime',
            fullPanel: true // 2.8+
        });
})

</script>
</body>
</html>